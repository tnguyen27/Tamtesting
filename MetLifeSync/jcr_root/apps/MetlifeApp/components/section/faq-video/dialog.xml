<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Dialog"
    height="620"
    title="FAQ &amp; Video"
    width="850"
    xtype="dialog">
    <items
        jcr:primaryType="cq:Widget"
        xtype="tabpanel">
        <items jcr:primaryType="cq:WidgetCollection">
            <general
                jcr:primaryType="cq:Panel"
                title="General">
                <items jcr:primaryType="cq:WidgetCollection">
                    <title
                        jcr:primaryType="nt:unstructured"
                        allowBlank="true"
                        fieldLabel="Title"
                        name="./title"
                        xtype="textfield"/>
                </items>
            </general>
            <faq
                jcr:primaryType="cq:Panel"
                title="FAQ">
                <items jcr:primaryType="cq:WidgetCollection">
                    <faqtitle
                        jcr:primaryType="nt:unstructured"
                        allowBlank="true"
                        fieldLabel="FAQ Title"
                        name="./faqtitle"
                        xtype="textfield"/>
                    <qa-list
                        jcr:primaryType="cq:Widget"
                        fieldDescription="Click the '+' to add a new item"
                        fieldLabel="Q&amp;A List"
                        name="./qalist"
                        xtype="multifield">
                        <fieldConfig
                            jcr:primaryType="cq:Widget"
                            xtype="multifieldpanel">
                            <items jcr:primaryType="cq:WidgetCollection">
                                <question
                                    jcr:primaryType="cq:Widget"
                                    anchor="90%"
                                    fieldLabel="Question"
                                    key="question"
                                    xtype="textfield"/>
                                <answer
                                    jcr:primaryType="cq:Widget"
                                    anchor="90%"
                                    fieldLabel="Answer"
                                    key="answer"
                                    xtype="richtext">
                                    <rtePlugins jcr:primaryType="nt:unstructured">
                                        <subsuperscript
                                            jcr:primaryType="nt:unstructured"
                                            features="*"/>
                                    </rtePlugins>
                                </answer>
                            </items>
                        </fieldConfig>
                    </qa-list>
                </items>
            </faq>
            <video
                jcr:primaryType="cq:Panel"
                title="Video">
                <items jcr:primaryType="cq:WidgetCollection">
                    <video-title
                        jcr:primaryType="nt:unstructured"
                        fieldDescription="Enter some text for the title."
                        fieldLabel="Video Title"
                        maxLength="150"
                        name="./videotitle"
                        xtype="textfield"/>
                    <video-type
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Video Type"
                        name="./videotype"
                        type="select"
                        xtype="selection">
                        <options jcr:primaryType="cq:WidgetCollection">
                            <brightcove
                                jcr:primaryType="nt:unstructured"
                                text="Brightcove"
                                value="option_a"/>
                            <youtube
                                jcr:primaryType="nt:unstructured"
                                text="Youtube"
                                value="option_b"/>
                        </options>
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            loadcontent="function() {&#xa;        var a = this.nextSibling().setVisible(false);&#xa;        var b = a.nextSibling().setVisible(false);&#xa;&#xa;        if(this.getValue() =='undefined'){&#xa;              a.setVisible(false);&#xa;           b.setVisible(false);&#xa;        }else if(this.getValue() == 'option_a'){&#xa;            a.setVisible(true);&#xa;        }else if(this.getValue() == 'option_b'){&#xa;            b.setVisible(true);&#xa;        }&#xa;    }"
                            selectionchanged="function() {&#xa;  var a = this.nextSibling().setVisible(false);&#xa;  var b = a.nextSibling().setVisible(false);&#xa;  var panel = this.findParentByType('panel');&#xa;  var hidden = panel.getComponent(6);&#xa;  &#xa;  if(this.getValue() == 'option_a'){&#xa;    a.setVisible(true);&#xa;    b.setVisible(false);&#xa;    hidden.setValue(this.getValue());&#xa;  &#xa;  }else if(this.getValue() == 'option_b'){&#xa;    a.setVisible(false);&#xa;    b.setVisible(true);&#xa;    hidden.setValue(&quot;&quot;);&#xa;  &#xa;  }&#xa;}"/>
                    </video-type>
                    <brightcove-video-id
                        jcr:primaryType="nt:unstructured"
                        fieldDescription="Enter the video id for brightcove. (eg: 3891257518001 )"
                        fieldLabel="Brightcove video ID"
                        hidden="{Boolean}true"
                        maxLength="150"
                        name="./brightcovevideoid"
                        xtype="textfield"/>
                    <youtubevideoid
                        jcr:primaryType="nt:unstructured"
                        fieldDescription="Enter the video id for youtube. (eg: https://www.youtube.com/watch?v=&lt;b>CMkeicTX0Tc&lt;/b>)"
                        fieldLabel="Youtube video ID"
                        hidden="{Boolean}true"
                        maxLength="150"
                        name="./youtubevideoid"
                        xtype="textfield"/>
                    <video_duration
                        jcr:primaryType="nt:unstructured"
                        fieldDescription="Enter the video duration."
                        fieldLabel="Duration"
                        maxLength="150"
                        name="./videoduration"
                        xtype="textfield"/>
                    <video_description
                        jcr:primaryType="nt:unstructured"
                        fieldDescription="Enter short description."
                        fieldLabel="Description"
                        maxLength="150"
                        name="./videodescription"
                        xtype="textfield"/>
                    <isBrightcove
                        jcr:primaryType="nt:unstructured"
                        name="./isBrightcove"
                        xtype="hidden"/>
                </items>
            </video>
        </items>
    </items>
</jcr:root>
